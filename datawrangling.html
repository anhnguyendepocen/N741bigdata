<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Data Wrangling: January 25, 2017</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/lumen.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; background-color: #dddddd; }
td.sourceCode { padding-left: 5px; }
code > span.kw { font-weight: bold; } /* Keyword */
code > span.dt { color: #800000; } /* DataType */
code > span.dv { color: #0000ff; } /* DecVal */
code > span.bn { color: #0000ff; } /* BaseN */
code > span.fl { color: #800080; } /* Float */
code > span.ch { color: #ff00ff; } /* Char */
code > span.st { color: #dd0000; } /* String */
code > span.co { color: #808080; font-style: italic; } /* Comment */
code > span.al { color: #00ff00; font-weight: bold; } /* Alert */
code > span.fu { color: #000080; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #ff0000; font-weight: bold; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #ff00ff; } /* SpecialChar */
code > span.vs { color: #dd0000; } /* VerbatimString */
code > span.ss { color: #dd0000; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { } /* Variable */
code > span.cf { } /* ControlFlow */
code > span.op { } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { font-weight: bold; } /* Preprocessor */
code > span.at { } /* Attribute */
code > span.do { color: #808080; font-style: italic; } /* Documentation */
code > span.an { color: #808080; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #808080; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #808080; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />
<link rel="stylesheet" href="font-awesome-4.7.0\css\font-awesome.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 54px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 59px;
  margin-top: -59px;
}

.section h2 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h3 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h4 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h5 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h6 {
  padding-top: 59px;
  margin-top: -59px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">N741 Spring 2017</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-archive"></span>
     
    Lessons
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="intro.html">1. 01/11/2017 Introduction</a>
    </li>
    <li>
      <a href="repres.html">2. 01/18/2017 Reproducible Research</a>
    </li>
    <li>
      <a href="datawrangling.html">3. 01/25/2017 Data Wrangling</a>
    </li>
    <li>
      <a href="eda.html">4. 02/01/2017 Exploratory Data Analysis</a>
    </li>
    <li>
      <a href="models.html">5. 02/08/2017 Models - Linear and Logistic</a>
    </li>
    <li>
      <a href="machinelearn.html">6. 02/15/2017 Machine Learning Tasks</a>
    </li>
    <li>
      <a href="bagboost.html">7. 02/22/2017 Bagging &amp; Boosting</a>
    </li>
    <li>
      <a href="randomforest.html">8. 03/01/2017 Random Forests and GAMs</a>
    </li>
    <li>
      <a href="break.html">9. 03/08/2017 No class – Spring Break</a>
    </li>
    <li>
      <a href="clusterclass.html">10. 03/15/2017 Clustering &amp; Classification</a>
    </li>
    <li>
      <a href="kernelsvm.html">11. 03/22/2017 Kernels and SVMs</a>
    </li>
    <li>
      <a href="natlang.html">12. 03/29/2017 Natural language processing</a>
    </li>
    <li>
      <a href="inclass.html">13. 04/05/2017 In-class Project Help</a>
    </li>
    <li>
      <a href="projpres.html">14. 04/12/2017 Project presentations</a>
    </li>
    <li>
      <a href="projpres.html">15. 04/19/2017 Project presentations</a>
    </li>
  </ul>
</li>
<li>
  <a href="files.html">
    <span class="fa fa-files-o"></span>
     
    Files
  </a>
</li>
<li>
  <a href="about.html">
    <span class="fa fa-users"></span>
     
    Instructors
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-file-text"></span>
     
    Syllabus
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="syllabus.html">Overview</a>
    </li>
    <li>
      <a href="articleCritique.html">Article Critique</a>
    </li>
    <li>
      <a href="shortPaper.html">Short Paper</a>
    </li>
    <li>
      <a href="finalProject.html">Final Project</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-cog"></span>
     
    Useful Stuff
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="textbook.html">Textbook Website</a>
    </li>
    <li>
      <a href="UCI.html">UCI Data Repository</a>
    </li>
    <li>
      <a href="help.html">R, RStudio. Git, Github Links/Help</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="colophon.html">
    <span class="fa fa-info-circle"></span>
     
    Colophon
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Data Wrangling: January 25, 2017</h1>

</div>


<div id="data-wrangling-january-25-2017" class="section level2">
<h2>Data Wrangling: January 25, 2017</h2>
<p>In today’s class we will cover the various data (or “object”) structures in <code>R</code>. We will cover the following objects:</p>
<ul>
<li>scalar (which are really vectors of length 1)</li>
<li>vector</li>
<li>matrices (and “arrays”)</li>
<li>data frame</li>
<li>list</li>
<li>factors</li>
</ul>
<p><strong>NOTE:</strong> To learn more about data types in R see:</p>
<ul>
<li>Quick-R Pages on datatypes <a href="http://www.statmethods.net/input/datatypes.html" class="uri">http://www.statmethods.net/input/datatypes.html</a></li>
<li>Jenny Bryan’s slides on R Objects <a href="https://speakerdeck.com/jennybc/simple-view-of-r-objects" class="uri">https://speakerdeck.com/jennybc/simple-view-of-r-objects</a></li>
</ul>
<p>We will also cover the following useful functions for checking/reviewing the data types of objects in R:</p>
<ul>
<li><code>summary()</code>
<ul>
<li>summary is a generic function used to produce result summaries of the results of various model fitting functions. The function invokes particular methods which depend on the class of the first argument.</li>
</ul></li>
<li><code>str()</code>
<ul>
<li>Compactly display the internal structure of an R object, a diagnostic function and an alternative to summary (and to some extent, dput). Ideally, only one line for each ‘basic’ structure is displayed. It is especially well suited to compactly display the (abbreviated) contents of (possibly nested) lists. The idea is to give reasonable output for any R object. It calls args for (non-primitive) function objects.</li>
</ul></li>
<li><code>class()</code>
<ul>
<li>R possesses a simple generic function mechanism which can be used for an object-oriented style of programming. Method dispatch takes place based on the class of the first argument to the generic function.</li>
</ul></li>
<li><code>mode()</code>
<ul>
<li>Get or set the type or storage mode of an object.</li>
</ul></li>
<li><code>typeof()</code>
<ul>
<li>typeof determines the (R internal) type or storage mode of any object</li>
</ul></li>
<li><code>attributes()</code>
<ul>
<li>These functions access an object’s attributes. The first form below returns the object’s attribute list. The replacement forms uses the list on the right-hand side of the assignment as the object’s attributes (if appropriate).</li>
</ul></li>
</ul>
<p><strong>NOTE:</strong> Many times if you get an error trying to run a function in <code>R</code> it will be because the object you have put into the function is of the wrong class. You’ll get something warning you that there is a problem or that you have a class type mismatch.</p>
<p><strong>EXAMPLE</strong>: Read the help pages for the <code>lm()</code> function which is used to fit a linear model. the usage is</p>
<pre><code>lm(formula, data, subset, weights, na.action,
   method = &quot;qr&quot;, model = TRUE, x = FALSE, y = FALSE, qr = TRUE,
   singular.ok = TRUE, contrasts = NULL, offset, ...)</code></pre>
<p>where:</p>
<ul>
<li>the 1st argument <code>formula</code> is assumed to an object of class “formula” - which we’ll discuss later this semester</li>
<li>the second argument <code>data</code> is assumed to a data frame or list</li>
<li>the 3rd argument <code>subset</code> is assumed to be a vector … and so on … ALWAYS read the help pages for the function and see what types of objects it wants</li>
</ul>
</div>
<div id="lets-create-some-dataobjects" class="section level2">
<h2>Let’s create some data/objects</h2>
<div id="create-5-scalar-values." class="section level3">
<h3>Create 5 scalar values.</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="dv">3</span>
b &lt;-<span class="st"> </span><span class="dv">1</span>
c &lt;-<span class="st"> </span><span class="dv">5</span>
d &lt;-<span class="st"> </span><span class="fl">4.5</span>
e &lt;-<span class="st"> </span><span class="fl">6.234</span></code></pre></div>
</div>
<div id="create-some-objects" class="section level3">
<h3>Create some objects</h3>
<p>We could use these individual values to create a single <code>vector</code> containing these 5 values. To do this we’ll use the <code>c()</code> “combine values” function. We can either do it using the object names <code>&quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot;</code> or we can simply use the values themselves.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">v1 &lt;-<span class="st"> </span><span class="kw">c</span>(a,b,c,d,e)
v2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="fl">4.5</span>,<span class="fl">6.234</span>)</code></pre></div>
<p>Let’s make a couple more vectors with 5 elements. Let’s make one with characters/letters and another one with TRUE/FALSE (or T/F) logical values and a third with only whole numbers.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">v.char &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;green&quot;</span>,<span class="st">&quot;red&quot;</span>,<span class="st">&quot;yellow&quot;</span>,<span class="st">&quot;blue&quot;</span>)
v.log &lt;-<span class="st"> </span><span class="kw">c</span>(T,F,F,T,F)
v.int &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2002</span>,<span class="dv">2004</span>,<span class="dv">2006</span>,<span class="dv">2008</span>,<span class="dv">2010</span>)</code></pre></div>
</div>
<div id="look-at-the-properties-of-the-objects" class="section level3">
<h3>Look at the properties of the objects</h3>
<p>Look at the class of each object</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(v1)</code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(v2)</code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(v.char)</code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(v.log)</code></pre></div>
<pre><code>## [1] &quot;logical&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(v.int)</code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<hr />
<p>Look at the mode</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mode</span>(v1)</code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mode</span>(v2)</code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mode</span>(v.char)</code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mode</span>(v.log)</code></pre></div>
<pre><code>## [1] &quot;logical&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mode</span>(v.int)</code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<hr />
<p>Look at the typeof each object</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(v1)</code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(v2)</code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(v.char)</code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(v.log)</code></pre></div>
<pre><code>## [1] &quot;logical&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(v.int)</code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<hr />
<p><strong>NOTE:</strong> Notice that <code>v.int</code> is a numeric vector not an integer. We can force this to a true integer vector using <code>is.integer()</code> to test to see if <code>R</code> thinks is it is an integer vector. If not, then we can use <code>as.integer()</code> to force it.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">is.integer</span>(v.int)</code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">v.int2 &lt;-<span class="st"> </span><span class="kw">as.integer</span>(v.int)
<span class="kw">is.integer</span>(v.int2)</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="object-types-and-changes" class="section level3">
<h3>Object types and changes</h3>
<p>Here are some useful functions for checking your object types and for possibly changing them as needed.</p>
<ul>
<li><code>is.character()</code></li>
<li><code>is.numeric()</code></li>
<li><code>is.integer()</code></li>
<li><code>is.data.frame()</code></li>
<li><code>is.double()</code></li>
<li><code>is.list()</code></li>
<li><code>is.factor()</code></li>
<li>and there are more - just look in help for the various <code>is.xxx()</code> functions.</li>
</ul>
<p>Most of these have associated <code>as.xx()</code> functions to help you move back and forth between object types ~ <em>sometimes</em>.</p>
<ul>
<li><code>as.character()</code></li>
<li><code>as.numeric()</code></li>
<li><code>as.integer()</code></li>
<li><code>as.data.frame()</code></li>
<li><code>as.double()</code></li>
<li><code>as.list()</code></li>
<li><code>as.factor()</code></li>
<li>and there are more - just look in help for the various <code>as.xxx()</code> functions.</li>
</ul>
</div>
<div id="make-a-data.frame" class="section level3">
<h3>Make a <code>data.frame</code></h3>
<p>Thus far, all of our vectors are of the same length, but they are of different type. The best data object to hold (a) vectors of the same length and (b) of different data types is a <code>data.frame</code>. The <code>data.frame</code> object is the best form of <strong>TIDY</strong> data where each ROW is a single CASE (or SUBJECT) and each COLUMN is a feature, measurement, or piece of information about that case (i.e. the COLUMNS are the VARIABLES).</p>
<p>Let’s combine v2, v.char, v.int2, and v.log into a <code>data.frame</code>. The easiest way to do this is using the <code>data.frame()</code> function. Then let’s run</p>
<ul>
<li><code>str()</code> to see the structure listing</li>
<li><code>summary()</code> to see what summary stats we get for each column since they are different data types</li>
<li>let’s also look at the <code>class()</code>,</li>
<li><code>mode()</code>,</li>
<li><code>typeof()</code> and</li>
<li><code>attributes</code> for the newly created <code>df</code> <code>data.frame</code> object</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># create a data.frame object called &quot;df&quot;</span>
<span class="co"># combining 4 vectors v2, v.char, v.int2, v.log</span>
df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(v2,v.char,v.int2,v.log)

<span class="co"># look at the structure</span>
<span class="kw">str</span>(df)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    5 obs. of  4 variables:
##  $ v2    : num  3 1 5 4.5 6.23
##  $ v.char: Factor w/ 4 levels &quot;blue&quot;,&quot;green&quot;,..: 1 2 3 4 1
##  $ v.int2: int  2002 2004 2006 2008 2010
##  $ v.log : logi  TRUE FALSE FALSE TRUE FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># look at the other properties of &quot;df&quot;</span>
<span class="kw">class</span>(df)</code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mode</span>(df)</code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(df)</code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">attributes</span>(df)</code></pre></div>
<pre><code>## $names
## [1] &quot;v2&quot;     &quot;v.char&quot; &quot;v.int2&quot; &quot;v.log&quot; 
## 
## $row.names
## [1] 1 2 3 4 5
## 
## $class
## [1] &quot;data.frame&quot;</code></pre>
</div>
<div id="attributes-of-a-data.frame" class="section level3">
<h3>Attributes of a <code>data.frame</code></h3>
<p>Notice that when we ran <code>attributes(df)</code> there were 3 pieces of information provided:</p>
<ul>
<li><code>$names</code></li>
<li><code>$row.names</code></li>
<li>and <code>$class</code></li>
</ul>
<p>The <code>names</code> attributes is really helpful for labeling and selecting specific COLUMNS or VARIABLES in our new dataset “df”. There is a function <code>names()</code> that is useful for (a) finding out what the column/variables names are and for (b) changing the variable names if we need to.</p>
<p>Right now the column names are not helpful. The names simply reflect the previous vector names.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(df)</code></pre></div>
<pre><code>## [1] &quot;v2&quot;     &quot;v.char&quot; &quot;v.int2&quot; &quot;v.log&quot;</code></pre>
<p>Let’s change the names to something more interesting.</p>
<ul>
<li>for “v2” we’ll change that to “avgvisit” (hypothetical average number of visits to somewhere)</li>
<li>for “v.char” change that to “color” (hypothetical color categories for plotting later)</li>
<li>for “v.int2” change to “year” (hypothetical year the data was collected)</li>
<li>and for “v.log” change to “valid” (hypothetical indicator for whether the data is validated or not)</li>
</ul>
<p>To do this we’ll use the <code>c()</code> combine function and assemble these new labels to rename the current column names. Run the <code>names(df)</code> before applying the new names, then assign the new names, and run <code>names(df)</code> again to see/check that the column names have been updated.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># see the original variable/column names</span>
<span class="kw">names</span>(df)</code></pre></div>
<pre><code>## [1] &quot;v2&quot;     &quot;v.char&quot; &quot;v.int2&quot; &quot;v.log&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># assign the new variable/column names</span>
<span class="kw">names</span>(df) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;avgvisit&quot;</span>,<span class="st">&quot;color&quot;</span>,<span class="st">&quot;year&quot;</span>,<span class="st">&quot;valid&quot;</span>)

<span class="co"># see that the variable/column names have updated</span>
<span class="kw">names</span>(df)</code></pre></div>
<pre><code>## [1] &quot;avgvisit&quot; &quot;color&quot;    &quot;year&quot;     &quot;valid&quot;</code></pre>
</div>
<div id="viewprint-the-dataset-as-a-table" class="section level3">
<h3>View/Print the dataset (as a table)</h3>
<p>Since this is such a small dataset with 5 ROWS and 4 COLUMNS we can easily “view” it by printing it in a table. For this we’ll use the <code>kable()</code> function from the <code>knitr</code> package. To call a specific function in a specific package, you list the package first followed by 2 colons <code>::</code> and then the function.</p>
<p><strong>NOTE:</strong> The <code>kable()</code> function makes pretty good tables in HTML, DOCX and PDF formats for objects that are <code>data.frame</code> or a <code>matrix</code>. We’ll learn more about the <code>kable()</code> function throughout the semester… In the example below, I also added a <code>caption</code> for the table.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knitr::<span class="kw">kable</span>(df,
             <span class="dt">caption=</span><span class="st">&quot;View the &#39;df&#39; object&quot;</span>)</code></pre></div>
<table>
<caption>View the ‘df’ object</caption>
<thead>
<tr class="header">
<th align="right">avgvisit</th>
<th align="left">color</th>
<th align="right">year</th>
<th align="left">valid</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">3.000</td>
<td align="left">blue</td>
<td align="right">2002</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="right">1.000</td>
<td align="left">green</td>
<td align="right">2004</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="right">5.000</td>
<td align="left">red</td>
<td align="right">2006</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="right">4.500</td>
<td align="left">yellow</td>
<td align="right">2008</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="right">6.234</td>
<td align="left">blue</td>
<td align="right">2010</td>
<td align="left">FALSE</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="tidy-data" class="section level2">
<h2>TIDY Data</h2>
<p>We’ll use the following functions as we go through this semester, for now, let’s review the following package(s) and the whole <code>TIDYVERSE</code> which is very helpful for working with data in many different formats and structures.</p>
<ul>
<li>The <a href="http://tidyverse.org/">“TIDYVERSE”</a></li>
<li><a href="https://www.jstatsoft.org/article/view/v059i10">“Tidy Data” paper by Hadley Wickham; Journal of Statistical Software; v.59 (2014)</a>
<ul>
<li><strong>NOTE</strong>: The original code and datasets can be reviewed at the Github repository for this paper at <a href="https://github.com/hadley/tidy-data" class="uri">https://github.com/hadley/tidy-data</a>.</li>
</ul></li>
<li><a href="http://r4ds.had.co.nz/wrangle-intro.html">“R for Data Science” book by Hadley Wickham; O’Reilly Media Inc. (2017) - Part II on Data Wrangling</a></li>
</ul>
</div>

<hr>

<p>Copyright &copy; <a href="http://melindahiggins2000.github.io/web2">Melinda Higgins, Ph.D.</a>. All contents under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">(CC) BY-NC-SA license</a>,<img src="ccbyncsa_88x31.png" alt="CC-BY-NC-SA" style="width:88px;height:31px;"> unless otherwise noted.
</p>

<p>
	<a href=mailto:melinda.higgins@emory.edu>Feedback, Comments (email me)?</a> 
</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
